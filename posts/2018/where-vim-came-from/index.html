<!doctype html><html lang=zh-hans>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=theme-color content="dark">
<title>翻译 | Vim 的诞生 | not b@tk1z</title>
<meta property="og:site_name" content="not b@tk1z">
<meta property="og:title" content="翻译 | Vim 的诞生 | not b@tk1z">
<meta itemprop=name content="翻译 | Vim 的诞生 | not b@tk1z">
<meta name=twitter:title content="翻译 | Vim 的诞生 | not b@tk1z">
<meta name=application-name content="翻译 | Vim 的诞生 | not b@tk1z">
<meta name=description content="Vim 这奇怪的键位到底从何而来？">
<meta name=twitter:description content="Vim 这奇怪的键位到底从何而来？ ">
<meta itemprop=description content=" Vim 这奇怪的键位到底从何而来？ ">
<meta property="og:description" content=" Vim 这奇怪的键位到底从何而来？ ">
<link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=stylesheet href=/sass/main.min.ab99ff095f832511e24ffb2fba2b51ad473b2f7e9301d674eba2c6c3a6e8bd81.css>
</head>
<script>(function(){const b='ThemeColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.userColorScheme='dark':document.documentElement.dataset.userColorScheme='light'})()</script>
<body class=dark>
<nav class=navbar>
<div class=container>
<div class=flex>
<div>
<a class=brand href=/>
not b@tk1z
</a>
</div>
<div class=flex>
<a href=/posts/>Posts</a>
<a href=/links/>Links</a>
<a href=/about>About</a>
<button id=dark-mode-button><svg class="light" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)" viewBox="0 0 36 36"><path fill="#ffd983" d="M30.312.776C32 19 20 32 .776 30.312c8.199 7.717 21.091 7.588 29.107-.429C37.9 21.867 38.03 8.975 30.312.776z"/><path d="M30.705 15.915a1.163 1.163.0 101.643 1.641 1.163 1.163.0 00-1.643-1.641zm-16.022 14.38a1.74 1.74.0 000 2.465 1.742 1.742.0 100-2.465zm13.968-2.147a2.904 2.904.0 01-4.108.0 2.902 2.902.0 010-4.107 2.902 2.902.0 014.108.0 2.902 2.902.0 010 4.107z" fill="#ffcc4d"/><rect x="0" y="0" width="36" height="36" fill="rgba(0, 0, 0, 0)"/></svg><svg class="dark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)" viewBox="0 0 36 36"><path fill="#ffd983" d="M16 2s0-2 2-2 2 2 2 2v2s0 2-2 2-2-2-2-2V2zm18 14s2 0 2 2-2 2-2 2h-2s-2 0-2-2 2-2 2-2h2zM4 16s2 0 2 2-2 2-2 2H2s-2 0-2-2 2-2 2-2h2zm5.121-8.707s1.414 1.414.0 2.828-2.828.0-2.828.0L4.878 8.708s-1.414-1.414.0-2.829c1.415-1.414 2.829.0 2.829.0l1.414 1.414zm21 21s1.414 1.414.0 2.828-2.828.0-2.828.0l-1.414-1.414s-1.414-1.414.0-2.828 2.828.0 2.828.0l1.414 1.414zm-.413-18.172s-1.414 1.414-2.828.0.0-2.828.0-2.828l1.414-1.414s1.414-1.414 2.828.0.0 2.828.0 2.828l-1.414 1.414zm-21 21s-1.414 1.414-2.828.0.0-2.828.0-2.828l1.414-1.414s1.414-1.414 2.828.0.0 2.828.0 2.828l-1.414 1.414zM16 32s0-2 2-2 2 2 2 2v2s0 2-2 2-2-2-2-2v-2z"/><circle fill="#ffd983" cx="18" cy="18" r="10"/><rect x="0" y="0" width="36" height="36" fill="rgba(0, 0, 0, 0)"/></svg>
</button>
</div>
</div>
</div>
</nav>
<main>
<div class=container>
<article>
<header class=article-header>
<div class=thumb>
<div>
<h1>翻译 | Vim 的诞生</h1>
<div class=post-meta>
<div>
By batkiz | <time>October 23, 2018</time>
| 11 minutes
</div>
<div class=tags>
<a href=/tags/vim/>vim</a>
<a href=/tags/linux/>linux</a>
</div>
</div>
</div>
</div>
</header>
</article>
<div class=article-post>
<p>原文：<a href=https://twobithistory.org/2018/08/05/where-vim-came-from.html>Where Vim Came From</a></p>
<p>另投稿于 <a href=http://jandan.net/2018/10/22/vim.html>煎蛋</a></p>
<blockquote>
<p>translated by <a href=https://batkiz.github.io/>batkiz</a> & <a href=https://ruinsyi.github.io>RUInsYi</a> @ <a href=https://github.com/par-tuner>Par-Tuner</a></p>
</blockquote>
<p>我最近偶然发现了一个名为 Intel HEX 的文件格式。据我所了解，Intel HEX 文件（使用 <code>.hex</code> 扩展名），将二值图像编码为一行一行的十六进制数字，为了使它们更透明。显然它们被应用于单片机编程或将数据烧录进 ROM。无论如何，当我第一次在 Vim 中打开一个 HEX 文件时，我发现了一些令人震惊的事。这个文件格式——至少对我来说——非常难懂，但 Vim 已经知道了有关它的一切。HEX 文件的每一行都是一个被分为不同字段的记录——Vim 已经先我一步为每一字段着了色。我敬畏地问道，<code>set ft?</code>。<code>filetype=hex</code>，Vim 得意洋洋地回答。</p>
<p>Vim 无处不在。它被无数人使用，因此对 HEX 文件的支持并不令人意外。Vim 在 Mac OS 上被预装，且在 Linux 世界有着大批拥趸。甚至讨厌它的人也对其非常熟悉，大多数命令行工具会默认将用户扔向 Vim，以至于被困在 Vim 中的新手已经成为了<a href=https://stackoverflow.blog/wp-content/uploads/2017/05/meme.jpeg>一个梗</a>。很多的网站，包括 Facebook，会在你按 <code>j</code> 键时向下滚动，按 <code>k</code> 键时向上——Vim 在数字文化中奇迹般以高水准传播。</p>
<p>然而 Vim 还是一个谜。不像 React，每个人都知道它被 Facebook 开发与维护，Vim 并没有明显的赞助者。尽管它极为普遍和重要，仍没有任何形式的委员会或组织机构为 Vim 的事宜做决定。你可以花费几分钟在 <a href=https://www.vim.org/>Vim 官网</a> 上闲逛，却不会在谁创造了 Vim 或者为什么创造了 vim 上得到更好的结果。如果你径直打开 Vim，不加任何文件参数，你就会看到 Vim 的启动信息，称 Vim 被“Bram Moolenaar 等人”开发。但这也仅止于此。谁是 Bram Moolenaar，谁又是他暗中的合作伙伴？</p>
<p>可能更重要的是，当我们在问问题时，为什么退出 Vim 需要键入 <code>:wq</code>？当然，这是一个“写入”操作，其后是“退出”操作，但这并不是一个特别直观的约定。又是谁决定复制文本应被称为“yanking”？（译注：在 Emacs 中，&ldquo;yanking&rdquo; 代表的是粘贴（或者说，重新插入刚才删掉的内容），而并不是复制。）为什么 <code>:%s/foo/bar/gc</code> 是“查找并替换”的简称？Vim 的特质看起来太武断了，但它们又从何而来呢？</p>
<p>答案是，事实通常如此，这些开始于初始之计算机的火炉，贝尔实验室。某种意义上，Vim 仅仅是一个软件作品——被称为“wq 文本编辑器”——最新的迭代。这个软件自 Unix 纪元的黎明开始就不断地被开发和改进。</p>
<h2 id=ken-thompson-与一个行编辑器>
<a href=#ken-thompson-%e4%b8%8e%e4%b8%80%e4%b8%aa%e8%a1%8c%e7%bc%96%e8%be%91%e5%99%a8 class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>
Ken Thompson 与一个行编辑器
</h2>
<p>1966 年，贝尔实验室雇佣了 Ken Thompson。Thompson 刚在加州大学伯克利分校完成了电子工程与计算机科学方向的硕士学位。在那里，他用过一个名为 QED 的文本编辑器，这个编辑器在 1965 年与 1966 年之间为伯克利分时系统而写。<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> Thompson 在到达贝尔实验室后的头等要事便是为 MIT 相容分时系统重写了 QED。后来他会为了 Multics 计划而编写另一个版本的 QED。期间，他扩展了程序以使得用户能够在一个文件中搜索行，并使用正则表达式进行替换。<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p>
<p>Multics 计划，与伯克利分时系统相似，寻求于创造一个商业上可行的分时操作系统，是 MIT，通用电气及贝尔实验室间的合作产物。AT&T 最终认定这个计划没有进展并选择退出。Thompson 与他的同事——贝尔实验室研究员 Dennis Ritchie，现在没有了分时系统，失去了系统所提供的“交互式计算的感觉”，便开始着手制作他们自己的版本——最终会闻名为 Unix。<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> 1969 年八月，在他的妻子与儿子在加利福尼亚度假时，Thompson 将新系统的基本组件组合在了一起，分别分配了“一个星期给操作系统、shell、编辑器、及汇编器。”<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup></p>
<p>这个编辑器会被叫做 <code>ed</code>。它基于 QED 但并不是一个确切的重实现。Thompson 决定抛弃一些 QED 功能。正则表达式的支持被削减，所以只有相对简单的正则表达式才会被理解。QED 通过打开多个缓冲区允许用户同时编辑几个文件，但 <code>ed</code> 一次只能对一个缓冲区工作。尽管 QED 能执行一个包含命令的缓冲区，<code>ed</code> 却不能这么做。这些简化也许是被要求的。Dennis Ritchie 曾说没有 QED 的高级正则表达式是“不大的损失”。<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup></p>
<p><code>ed</code> 现在是 POSIX 标准的一部分，所以如果你有一个 POSIX 兼容的系统，它已经安装在你的电脑上了。它值得一玩，因为 <code>ed</code> 的许多命令现在是 Vim 的一部分。例如，为了将缓冲区写入磁盘，你需要使用 <code>w</code> 命令。为了退出编辑器，你需要使用 <code>q</code> 命令。这两个命令能在一行中同时被指定——也就是 <code>wq</code>。正如同 Vim，<code>ed</code> 是一个模式编辑器；为了从命令模式进入输入模式你需要使用插入命令(<code>i</code>)，附加命令(<code>a</code>)，或是更改命令(<code>c</code>)，这取决于你想对文本做些什么。<code>ed</code> 同样引进了 <code>s/foo/bar/g</code> 格式来查找与替换，或称“取代”文本。</p>
<p>鉴于这些相似之处，你可能会认为普通的 Vim 用户使用 <code>ed</code> 没有任何问题。但在另一个重要的方面，<code>ed</code> 与 Vim 不尽相同。<code>ed</code> 是一个真正的行编辑器。它在电传打字机时代被写下并被广泛使用。当 Ken Thompson 与 Dennis Ritchie 正忙碌于 Unix 时，他们看起来像是这样：</p>
<p><img loading=lazy src=https://s1.ax1x.com/2018/10/17/idh2qI.jpg alt=Ken_Thompson_(sitting)_and_Dennis_Ritchie_at_PDP-11_(2876612463).jpg></p>
<p><code>ed</code> 不允许你在打开的缓冲区里的其他行中编辑恰当的行，或者是移动光标，因为每当你改变了文件，<code>ed</code> 会必须重印整个文件。1969 年并没有让 <code>ed</code>“清除”屏幕上内容的机制，因为屏幕其实仅仅是一张纸，输出的所有东西都已经被墨水印到了纸上。如有必要，你可以使用列出命令(<code>l</code>)让 <code>ed</code> 为你打印出一行行内容，但大多数时间你都在操控着你不能看见的文本。因此使用 <code>ed</code> 就像是在一个昏暗的房子里用着一个几乎没电的手电筒，尝试着找对路。你一次能看到如此多东西，所以你必须尽你所能来记住一切都在哪里。</p>
<p>下面是一个 <code>ed</code> 会话的例子。我已经添加了注释（在 <code>#</code> 标记之后）来解释每行的用途，尽管 <code>ed</code> 并不会将输入的这些识别为注释且会报错：</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>sinclairtarget 09:49 ~<span class=o>]</span>$ ed
i                           <span class=c1># 进入输入模式</span>
Hello world!

Isn<span class=s1>&#39;t it a nice day?
</span><span class=s1>.                           # 结束输入
</span><span class=s1>1,2l                        # 列出1、2行
</span><span class=s1>Hello world!$
</span><span class=s1>$
</span><span class=s1>2d                          # 删除第 2 行
</span><span class=s1>,l                          # 列出整个缓冲区
</span><span class=s1>Hello world!$
</span><span class=s1>Isn&#39;</span>t it a nice day?$
s/nice/terrible/g           <span class=c1># 全局替换</span>
,l
Hello world!$
Isn<span class=s1>&#39;t it a terrible day?$
</span><span class=s1>w foo.txt                   # 写入 foo.txt
</span><span class=s1>38                          # (写入的字节数)
</span><span class=s1>q                           # 退出
</span><span class=s1>[sinclairtarget 10:50 ~]$ cat foo.txt
</span><span class=s1>Hello world!
</span><span class=s1>Isn&#39;</span>t it a terrible day?
</code></pre></td></tr></table>
</div>
</div><p>正如你所见到的，<code>ed</code> 并不是一个特别健谈的程序。</p>
<h2 id=bill-joy-与一个文本编辑器>
<a href=#bill-joy-%e4%b8%8e%e4%b8%80%e4%b8%aa%e6%96%87%e6%9c%ac%e7%bc%96%e8%be%91%e5%99%a8 class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>
Bill Joy 与一个文本编辑器
</h2>
<p><code>ed</code> 对 Thompson 和 Ritchie 来说完全够用。其他人则认为其难于使用，并且它成为了 Unix 对新手的敌意的一个臭名昭著的例子。<sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup> 1975 年，一个名叫 George Coulouris 的男子在伦敦玛丽王后大学的 Unix 系统上开发了 <code>ed</code> 的一个改进版本。Coulouris 写了他的编辑器是为了利用他在伦敦玛丽王后大学能获得的显示屏。不像 <code>ed</code>，Coulouris 的程序允许用户编辑屏幕上恰当的一行，通过一下下的击键来在行间移动（想象下你一次只在一行里使用 Vim）。Coulouris 称他的程序为 <code>em</code>，或称"editor for mortals（模式编辑器）"，这可能是在 Thompson 造访伦敦玛丽王后大学，见了 Coulouris 所写的程序并驳斥之，称他不需要在编辑一个文件时查看它的状态之后。</p>
<p>1976 年，Coulouris 带着 <code>em</code> 到了加州大学伯克利分校，他在那里作为计算机科学系的访问者待了一整个夏天。这刚好是在 Ken Thompson 离开伯克利前往贝尔实验室的十年之后。在伯克利，Coulouris 见到了 Bill Joy，一个正在工作于伯克利软件套件(BSD)的研究生。Coulouris 给 Joy 展示了 <code>em</code>，Joy 便在 Coulouris 的源代码上开始构建 <code>ed</code> 的一个改进版本，称之为 <code>ex</code>，即"extended <code>ed</code>（扩展版 <code>ed</code>）"。1978 年，<code>ex</code> 的 1.1 版本与 BSD 的首个发布版本捆绑释出。<code>ex</code> 很大程度上与 <code>ed</code> 兼容，但添加了两个模式：一个“打开”模式，启用与 <code>em</code> 上相似的单行编辑；一个“可视”模式，接管整个屏幕并允许我们像今天那样实时编辑整个文件。</p>
<p>在 1979 年 BSD 的第二个发布版本中，一个名为 <code>vi</code> 的可执行程序被引进，它能比可视模式的 <code>ex</code> 做的稍多一些。</p>
<p><code>ex</code>/<code>vi</code>(自此以后便是 <code>vi</code>)确立了很多不是 <code>ed</code> 一部分但我们现在在用的大部分约定。Joy 使用的视频终端是一台 Lear Siegler ADM-3A，其键盘上没有方向键。作为替代，箭头被印在 <code>h</code>, <code>j</code>, <code>k</code> 与 <code>l</code> 键上，这便是为何 Joy 使用这些按键作为 <code>vi</code> 中的光标移动。ADM-3A 键盘上的 ESC 键则位于如今的 Tab 键的位置上，这解释了为何一个极其难按到的按键会被分配为常用到的退出一个模式的操作。使用 <code>:</code> 字符作为命令前缀也是来自 <code>vi</code>，在正常模式（也就是运行 <code>ex</code> 进入的模式）中使用 <code>:</code> 作为提示。这解决了 <code>ed</code> 中存在已久的一个抱怨，即，一旦启动，用户只会得到彻底的沉默。在可视模式，保存并退出现在是键入经典的 <code>:wq</code>。&ldquo;Yanking&rdquo; 与 &ldquo;putting&rdquo;（译注：即复制与粘贴）出现了，且 <code>set</code> 命令打开设置选项都是最初的 <code>vi</code> 的一部分。我们现在在 Vim 中使用的基本的文本编辑功能大部分都是 <code>vi</code> 的功能。</p>
<p><img loading=lazy src=https://s1.ax1x.com/2018/10/18/iwGW24.jpg alt=LSI-ADM3A-full-keyboard.jpg></p>
<p><code>vi</code> 是 BSD 上除了 <code>ed</code> 唯一捆绑安装的文本编辑器。在那时，Emacs 需要花费数百美元（这是在 GNU Emacs 出现之前），所以 <code>vi</code> 变得极其流行。但 <code>vi</code> 是 <code>ed</code> 的直接后代，这意味着如果没有 AT&T 的源代码许可，源代码不能被改动。这使几个人创造了 <code>vi</code> 的开源版本。1987 年 STEVIE (ST Editor for VI Enthusiasts)（为 vi 爱好者的 ST 编辑器）出现了，Elvis 出现在 1990 年，<code>nvi</code> 则在 1994 年出现。这些克隆中的某些添加了额外的功能，例如语法高亮显示与分割窗口。因为很多 Elvis 用户的推动，Elvis 的许多功能被合并进了 Vim。</p>
<h2 id=bram-moolenaar-与-vim>
<a href=#bram-moolenaar-%e4%b8%8e-vim class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>
Bram Moolenaar 与 Vim
</h2>
<p>Vim，现在是"Vi Improved"的缩写，最初却意味着"Vi Imitation"（Vi 的模仿）。如同许多其他的 <code>vi</code> 克隆，Vim 最初是一个 <code>vi</code> 不能工作的平台上的移植。Bram Moolenaar，一个在荷兰芬洛的一个复印机公司工作的荷兰工程师，想要在他全新的 Amiga 2000 上拥有一个像 <code>vi</code> 一样的东西。Moolenaar 在大学时代已习惯于在 Unix 系统上使用 <code>vi</code>，且它现在“了如指掌”。<sup id=fnref:7><a href=#fn:7 class=footnote-ref role=doc-noteref>7</a></sup> 所以在 1988 年，以已存在的 <code>vi</code> 克隆 STEVIE 作为起点，Moolenaar 开始着手于 Vim。</p>
<p>Moolenaar 已经有了 STEVIE，因为 STEVIE 已在一个叫 Fred Fish disk 的东西上出现了。Fred Fish 是一个美国程序员，每个月都会寄出一个软盘，其中是 Amiga 平台上可用的最好的开源软件的辑选。每个人都能要一份，只需付出邮费而已。Moolenaar 使用的版本是在 Fred Fish disk 256 上发布的版本。<sup id=fnref:8><a href=#fn:8 class=footnote-ref role=doc-noteref>8</a></sup>（很遗憾，看起来 Fred Fish disk 与 <a href=https://en.wikipedia.org/wiki/Freddi_Fish>Freddi Fish</a> 并没有什么关系。）</p>
<p>Moolenaar 很喜欢 STEVIE 但很快就注意到很多 <code>vi</code> 命令缺失了。<sup id=fnref:9><a href=#fn:9 class=footnote-ref role=doc-noteref>9</a></sup> 所以，在 Vim 的首个发布版本中，Moolenaar 将与 <code>vi</code> 的兼容作为首要工作。有人曾写了一系列的 <code>vi</code> 宏，在一个与 <code>vi</code> 正确兼容的编辑器上运行时，能解决一个 <a href=https://github.com/isaacs/.vim/tree/master/macros/maze>随机生成的迷宫</a>。Moolenaar 能使这些宏在 Vim 上工作。1991 年，Vim 在 Fred Fish disk 591 上第一次以"Vi Imitation"发布。<sup id=fnref:10><a href=#fn:10 class=footnote-ref role=doc-noteref>10</a></sup> Moolenaar 已经添加了一些功能（包括多级撤销，与对编译错误的"quickfix"模式），这意味着 Vim 已经超越了 <code>vi</code>。但 Vim 会保持"Vi Imitation"直到 1993 年通过 FTP 发布的 Vim 2.0。</p>
<p>Moolenaar 在许多网上合作者的偶尔协助下，以稳健的步伐给 Vim 添加功能。Vim 2.0 引入了 <code>wrap</code> 选项与较长行内水平滚动的支持。Vim 3.0 添加了对分割窗口与缓冲区的支持，这些功能来自 <code>vi</code> 的克隆 <code>nvi</code>。Vim 现在也能将每个缓冲区存入一个交换文件，所以已更改的文本能在崩溃中幸免于难。Vimscript 在 Vim 5.0 中首次出现，一同出现的还有对语法高亮显示的支持。在这期间，Vim 的流行程度一直在增长。它被移植到 MS-DOS, Windows, Mac, 甚至 Unix，在其上 Vim 与最初的 <code>vi</code> 相竞争。</p>
<p>2006 年，在 <em>Linux Journal</em> 读者中，Vim 被投票为最流行的编辑器。<sup id=fnref:11><a href=#fn:11 class=footnote-ref role=doc-noteref>11</a></sup> 如今，根据 Stack Overflow 的 2018 年开发者调查，Vim 是最流行的文本模式（即终端模拟器）编辑器，被所有软件开发者中的 25.8% 所使用（以及 40% 的系统管理员/运维）。<sup id=fnref:12><a href=#fn:12 class=footnote-ref role=doc-noteref>12</a></sup> 从 1980 年代末期，贯穿整个 90 年代的时间里，程序员们发起了“编辑器战争”，使 EMacs 与 <code>vi</code> （后来变成了 Vim）用户相斗争。尽管 Emacs 还有着一批追随者，一些人认为编辑器战争已经结束且 Vim 胜利了。<sup id=fnref:13><a href=#fn:13 class=footnote-ref role=doc-noteref>13</a></sup> 2018 年 Stack Overflow 开发者调查佐证了这一说法；只有 4.1% 的调查对象使用 Emacs。</p>
<p>Vim 是怎么变得这么成功的？很明显人们喜欢 Vim 提供的功能。但我认为 Vim 背后悠久的历史说明了它有着比之功能更多的好处。回溯 Vim 的代码库，只是到达 1988 年 Moolenaar 开始在其上工作。&ldquo;wq text editor"在另一方面——一个类似 Unix 环境的文本编辑器该如何工作的宏大愿景——已走过半个世纪。&ldquo;wq text editor&rdquo; 有着几种不同的表达，但幸亏 Bill Joy 与 Bram Moolenaar 两人对兼容性不同寻常的注重，好的想法随着时间不断积累。某种意义上，&ldquo;wq text editor&rdquo; 是运行时间最长的、最成功的开源项目之一，享受着计算机世界最伟大思想的贡献。我并不认为“初创公司抛弃先例创造了制造混乱的软件”的开发方式一定很坏，但 Vim 证明了以合作与递增的方式也能创造奇迹。</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>Butler Lampson, “<a href=http://bwlampson.site/Systems.htm>Systems</a>,” Butler Lampson, accessed August 5, 2018.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:2 role=doc-endnote>
<p>Dennis Ritchie, “<a href=https://www.bell-labs.com/usr/dmr/www/qed.html>An Incomplete History of the QED Editor</a>,” accessed August 5, 2018.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:3 role=doc-endnote>
<p>Peter Salus, “<a href="http://www.groklaw.net/article.php?story=20050414215646742">The Daemon, the GNU, and the Penguin</a>,” Groklaw, April 14, 2005, accessed August 5, 2018.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:4 role=doc-endnote>
<p>ibid.（译注：同上）&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:5 role=doc-endnote>
<p>Dennis Ritchie, “<a href=https://www.bell-labs.com/usr/dmr/www/qed.html>An Incomplete History of the QED Editor</a>,” accessed August 5, 2018.&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:6 role=doc-endnote>
<p>Donald Norman, “<a href=http://www.ceri.memphis.edu/people/smalley/ESCI7205_misc_files/The_truth_about_Unix_cleaned.pdf>The Truth about Unix: The User Interface Is Horrid</a>,” Datamation, accessed August 5, 2018.&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:7 role=doc-endnote>
<p>Bram Moolenaar, “<a href="https://www.youtube.com/watch?v=ayc_qpB-93o&t=4m58s">Vim 25</a>” (lecture, Zurich, November 2, 2016), December 13, 2016, accessed August 5, 2018.&#160;<a href=#fnref:7 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:8 role=doc-endnote>
<p>ibid（译注：同上）. (?t=6m15s)&#160;<a href=#fnref:8 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:9 role=doc-endnote>
<p>ibid（译注：同上）. (?t=7m6s)&#160;<a href=#fnref:9 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:10 role=doc-endnote>
<p>“<a href=http://www.amiga-stuff.com/pd/fish.html>Fish Disks 1 - 1120</a>,” Amiga Stuff, accessed August 5, 2018.&#160;<a href=#fnref:10 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:11 role=doc-endnote>
<p>“<a href=https://www.linuxjournal.com/article/8520#N0x850cd80.0x87983bc>2005 Linux Journal Reader’s Choice Awards</a>,” Linux Journal, September 28, 2005, accessed August 5, 2018.&#160;<a href=#fnref:11 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:12 role=doc-endnote>
<p>“<a href=https://insights.stackoverflow.com/survey/2018/#development-environments-and-tools>Stack Overflow Developer Survey 2018</a>,” Stack Overflow, accessed August 5, 2018.&#160;<a href=#fnref:12 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:13 role=doc-endnote>
<p>Bruce Byfield, “<a href=http://www.linux-magazine.com/Online/Blogs/Off-the-Beat-Bruce-Byfield-s-Blog/The-End-of-the-Editor-Wars>The End of the Editor Wars</a>,” Linux Magazine, May 11, 2015, accessed August 5, 2018.&#160;<a href=#fnref:13 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
</div>
<div class=container>
<nav class="flex container suggested">
<a rel=prev href=/posts/2018/oh-the-old-days/ title="Previous post (older)">
<span>Previous</span>
考古 | 不知纸外几春秋
</a>
<a rel=next href=/posts/2018/using-scoop/ title="Next post (newer)">
<span>Next</span>
初探 Scoop
</a>
</nav>
</div>
<div class=container>
<script src=https://giscus.app/client.js data-repo=batkiz/batkiz.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkxMDg1Mjk2NjI=" data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-theme=light crossorigin=anonymous async></script>
<script>function setGiscusTeheme(b){let a=document.querySelector('.giscus iframe');a&&a.contentWindow.postMessage({giscus:{setConfig:{theme:b}}},'https://giscus.app')}addEventListener('message',a=>{if(a.origin!=='https://giscus.app')return;setGiscusTeheme(document.documentElement.dataset.userColorScheme)}),window.addEventListener('onColorSchemeChange',a=>{setGiscusTeheme(a.detail)})</script>
</div>
</main>
</main>
<footer class="footer flex">
<section class=container>
<nav class=footer-links>
<a href=/atom.xml>RSS</a>
</nav>
<style>@import "https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&display=swap";@import "https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap";@import "https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap";:root{--noto-serif:"Noto Serif", "Noto Serif CJK SC", "Noto Serif CJK",
            "Source Han Serif SC", "Source Han Serif", source-han-serif-sc,
            "Noto Serif SC";--sys-font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Droid Sans", "Helvetica Neue";--zh-font-family:var(--noto-serif), "PingFang SC", "Hiragino Sans GB", "Droid Sans Fallback", "Microsoft YaHei";--base-font-family:var(--noto-serif), var(--sys-font-family), var(--zh-font-family);--code-font-family:"Fira Code", Menlo, Monaco, Consolas, "Courier New", monospace;--article-font-family:var(--noto-serif), var(--base-font-family)}</style>
<script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "fd2a175921e640c8a40b873fb5e58aaa"}'></script>
</section>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css integrity=sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc crossorigin=anonymous>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js integrity=sha384-YNHdsYkH6gMx9y3mRkmcJ2mFUjTd0qNQQvY9VYZgQd7DcN7env35GzlmFaZ23JGp crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous onload="renderMathInElement(document.querySelector('.article-post'),{delimiters:[{left:'$$',right:'$$',display:!0},{left:'$',right:'$',display:!1},{left:'\\(',right:'\\)',display:!1},{left:'\\[',right:'\\]',display:!0}]})"></script>
<script defer src=/ts/features.c81551cd4dbef120af278f16966a41142c02be9ff5d6a669be09820fbf047456.js data-enable-footnotes=false></script>
</footer>
</body>
</html>