<!doctype html><html lang=zh><head><meta name=viewport content="width=device-width,initial-scale=1"><title>wsl 使用指北</title>
<meta charset=utf-8><meta name=description content="Ladder@MICROSOFT 已成最大 Linux 发行版（"><meta name=author content="map[email:batkiz@outlook.com name:Jinglue]"><link rel=canonical href=https://blog.batkiz.com/posts/using-wsl/><link rel=alternate type=application/rss+xml href=https://blog.batkiz.com//index.xml title="not b@tk1z"><meta property="og:url" content="https://blog.batkiz.com/posts/using-wsl/"><meta property="og:site_name" content="not b@tk1z"><meta property="og:title" content="wsl 使用指北"><meta property="og:description" content="MICROSOFT 已成最大 Linux 发行版（"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-10-06T16:59:37+00:00"><meta property="article:modified_time" content="2018-10-06T16:59:37+00:00"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Windows"><meta name=twitter:card content="summary"><meta name=twitter:title content="wsl 使用指北"><meta name=twitter:description content="MICROSOFT 已成最大 Linux 发行版（"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"wsl 使用指北","item":"https://blog.batkiz.com/posts/using-wsl/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"wsl 使用指北","name":"wsl 使用指北","description":"MICROSOFT 已成最大 Linux 发行版（","keywords":["linux","windows"],"articleBody":"经由多个版本更新，现在 wsl 对于普通开发工作已基本没啥问题了，已可基本抛弃虚拟机（\n注：由于 wsl 实现方式是自己实现了一遍 Linux Kernel1，因此涉及 Linux 底层（内核、hack 等）的东西基本还是不行的。。\n简明入坑教程 安装 进入设置，在 更新与安全 -\u003e 开发者选项 中打开开发人员模式 直接使用 Cortana 搜索 Windows 功能，在 启用或关闭 Window 功能 中勾选打开 适用于 Linux 的 Windows 子系统 进入 microsoft store，搜索 Linux，挑一个顺眼的发行版安装2 待安装完成后打开该发行版的 shell，然后设置用户名与密码 提升体验 换源 是必须的 安装 build-essential, zsh, vim 等并配置 wsl-terminal wsl-terminal 是 「用于 Windows Subsystem for Linux (WSL) 的终端模拟器，基于 mintty、fatty 和 wslbridge。」，解决了很多默认终端里存在的问题，建议 wsl 用户都来下载使用这个。\n基本配置其实看看文档都能理解，不过我还是想推荐几个功能：\n运行 tools/1-add-open-wsl-terminal-here-menu.js (帮助) 来添加一个 Open wsl-terminal Here 右键菜单到资源管理器上。 配置文件 etc/wsl-terminal.conf 中可将默认 shell 改为 zsh。 tips 关于 wsl-terminal 推荐背景色 40, 44, 52（我从 vscode 的 one dark pro 主题那偷来的） 建议在 windows 上安装 powerline fonts 以提升使用体验 关于 linux 人生苦短，来用 zsh zsh 主题强烈推荐 ys 人生苦短，尽量别碰 vim 真想碰的话来试试我的配置 关于 wsl 当终端用就好，别再整些什么 X-server 之类的搞 GUI 功能仍然有限，该用虚拟机就早点上虚拟机 推荐 Pop!_os，自带中文输入法已经贼好看的主题与壁纸，你还在等什么！ 记得有个 GitHub repo 是有不少软件的可用性测试的，不过我懒得找了，有需要的可以找找看。 https://www.zhihu.com/question/54896787 ↩︎\n我选择 Ubuntu，不带版本号的那个。 ↩︎\n","wordCount":"628","inLanguage":"zh","datePublished":"2018-10-06T16:59:37Z","dateModified":"2018-10-06T16:59:37Z","author":{"@type":"Person","name":{"email":"batkiz@outlook.com","name":"Jinglue"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.batkiz.com/posts/using-wsl/"},"publisher":{"@type":"Organization","name":"not b@tk1z","logo":{"@type":"ImageObject","url":"https://blog.batkiz.com/favicon.ico"}}}</script><link rel=icon href=/favicon.ico sizes=16x16><link rel=apple-touch-icon href=/favicon.ico><link rel=manifest href=/favicon.ico><link rel=preconnect href=https://fonts.loli.net><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.loli.net/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" rel=stylesheet><link href="https://fonts.loli.net/css2?family=Noto+Serif+SC&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" rel=stylesheet><link href="https://fonts.loli.net/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Noto+Serif+SC&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" rel=stylesheet><link rel=stylesheet href=/css/main.min.28245603abfbc0a0a9ef30287c2872f82f0e6075e5b630bff570c8480b95b904.css integrity="sha256-KCRWA6v7wKCp7zAofChy+C8OYHXltjC/9XDISAuVuQQ=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c607d6febd16934a82eb61d3a896ed9d869f54373cc63ce95864ed5488fe3128.js></script><script>hljs.highlightAll()</script><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/>not b@tk1z
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/posts>文章</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/links>链接</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/atom.xml>RSS</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/about>关于</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/batkiz><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-social"><a class=navigation-link href=mailto:batkiz@outlook.com><svg viewBox="0 0 24 24" width="20" height="20" class="main-grid-item-icon" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>wsl 使用指北</h1></header><p><small>2018年10月6日&nbsp;· 628 字&nbsp;· 2 分钟</small>
<small>·
<a href=https://blog.batkiz.com/tags/linux/>Linux</a>
<a href=https://blog.batkiz.com/tags/windows/>Windows</a></small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#简明入坑教程>简明入坑教程</a><ul><li><a href=#安装>安装</a></li><li><a href=#提升体验>提升体验</a></li><li><a href=#wsl-terminal>wsl-terminal</a></li></ul></li><li><a href=#tips>tips</a><ul><li><a href=#关于-wsl-terminal>关于 wsl-terminal</a></li><li><a href=#关于-linux>关于 linux</a></li><li><a href=#关于-wsl>关于 wsl</a></li></ul></li></ul></nav></div><section class=blog-content><p>经由多个版本更新，现在 wsl 对于普通开发工作已基本没啥问题了，已可基本抛弃虚拟机（</p><blockquote><p>注：由于 wsl 实现方式是自己实现了一遍 Linux Kernel<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>，因此涉及 Linux 底层（内核、hack 等）的东西基本还是不行的。。</p></blockquote><h2 id=简明入坑教程>简明入坑教程</h2><h3 id=安装>安装</h3><ol><li>进入设置，在 <strong>更新与安全 -> 开发者选项</strong> 中打开开发人员模式</li><li>直接使用 Cortana 搜索 <strong>Windows 功能</strong>，在 <strong>启用或关闭 Window 功能</strong> 中勾选打开 <em>适用于 Linux 的 Windows 子系统</em></li><li>进入 microsoft store，搜索 <em>Linux</em>，挑一个顺眼的发行版安装<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></li><li>待安装完成后打开该发行版的 shell，然后设置用户名与密码</li></ol><h3 id=提升体验>提升体验</h3><ul><li><a href=https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu//>换源</a> 是必须的</li><li>安装 build-essential, zsh, vim 等并配置</li></ul><h3 id=wsl-terminal>wsl-terminal</h3><p>wsl-terminal 是 「用于 Windows Subsystem for Linux (WSL) 的终端模拟器，基于 <a href=http://mintty.github.io/>mintty</a>、<a href=https://github.com/paolo-sz/fatty>fatty</a> 和 <a href=https://github.com/rprichard/wslbridge>wslbridge</a>。」，解决了很多默认终端里存在的问题，建议 wsl 用户都来下载使用这个。</p><p>基本配置其实看看文档都能理解，不过我还是想推荐几个功能：</p><ul><li>运行 <code>tools/1-add-open-wsl-terminal-here-menu.js</code> (<a href=https://github.com/goreliu/wsl-terminal/blob/master/README.zh_CN.md#%E5%B7%A5%E5%85%B7>帮助</a>) 来添加一个 <code>Open wsl-terminal Here</code> 右键菜单到资源管理器上。</li><li>配置文件 <code>etc/wsl-terminal.conf</code> 中可将默认 shell 改为 zsh。</li></ul><h2 id=tips>tips</h2><h3 id=关于-wsl-terminal>关于 wsl-terminal</h3><ul><li>推荐背景色 <code>40, 44, 52</code>（我从 vscode 的 one dark pro 主题那偷来的）</li><li>建议在 <code>windows</code> 上安装 <a href=https://github.com/powerline/fonts>powerline fonts</a> 以提升使用体验</li></ul><h3 id=关于-linux>关于 linux</h3><ul><li>人生苦短，来用 zsh</li><li>zsh 主题强烈推荐 ys</li><li>人生苦短，尽量别碰 vim</li><li>真想碰的话来试试<a href=https://github.com/batkiz/k-vim>我的配置</a></li></ul><h3 id=关于-wsl>关于 wsl</h3><ul><li>当终端用就好，别再整些什么 X-server 之类的搞 GUI</li><li>功能仍然有限，该用虚拟机就早点上虚拟机</li><li>推荐 <a href=https://system76.com/pop>Pop!_os</a>，自带中文输入法已经贼好看的主题与壁纸，你还在等什么！</li><li>记得有个 GitHub repo 是有不少软件的可用性测试的，不过我懒得找了，有需要的可以找找看。</li></ul><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.zhihu.com/question/54896787>https://www.zhihu.com/question/54896787</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>我选择 <code>Ubuntu</code>，不带版本号的那个。&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></section><div class=paginator><a class=prev href=https://blog.batkiz.com/posts/translation-the-rise-and-demise-of-rss/><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966 5.98257 11.8297 5.98456 11.9753 6.05061 12.0063c1.00435.4716 2.8788 1.9201 3.89435 2.9937M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentcolor" stroke-linecap="round"/></svg>
<span>翻译 | RSS 的兴起与衰落</span></a>
<a class=next href=https://blog.batkiz.com/posts/useful-telegram-bots/><span>telegram bots 推荐</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div></article></div><footer class=footer><p>&copy; 2024 <a href=https://blog.batkiz.com/>not b@tk1z</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "fd2a175921e640c8a40b873fb5e58aaa"}'></script></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg>
</a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>